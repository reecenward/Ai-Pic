{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera } from 'expo-camera';\nimport { shareAsync } from 'expo-sharing';\nimport * as MediaLibrary from 'expo-media-library';\nimport { StatusBar } from 'expo-status-bar';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var cameraRef = useRef();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    hasMediaLibraryPermission = _useState4[0],\n    setHasMediaLibraryPermission = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    photo = _useState6[0],\n    setPhoto = _useState6[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var cameraPermission = yield Camera.requestCameraPermissionsAsync();\n      var mediaLibraryPermission = yield MediaLibrary.requestPermissionsAsync();\n      setHasCameraPermission(cameraPermission.status === \"granted\");\n      setHasMediaLibraryPermission(mediaLibraryPermission.status === \"granted\");\n    })();\n  }, []);\n  if (hasCameraPermission === undefined) {\n    return _jsx(Text, {\n      children: \"Requesting Permissions...\"\n    });\n  } else if (!hasCameraPermission) {\n    return _jsx(Text, {\n      children: \"Permission for camera not granted. Please change this in settings\"\n    });\n  }\n  var takePic = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var options = {\n        quality: 1,\n        base64: true,\n        exif: false\n      };\n      var newPhoto = yield cameraRef.current.takePictureAsync(options);\n      setPhoto(newPhoto);\n    });\n    return function takePic() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (photo) {\n    var sharePic = function sharePic() {\n      shareAsync(photo.uri).then(function () {\n        setPhoto(undefined);\n      });\n    };\n    var savePhoto = function savePhoto() {\n      MediaLibrary.saveToLibraryAsync(photo.uri).then(function () {\n        setPhoto(undefined);\n      });\n    };\n    var sendPhoto = function sendPhoto() {\n      if (photo) {\n        fetch('http://localhost:3000/photo', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            photo: photo.base64\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          console.log(data.message);\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    };\n    return _jsxs(SafeAreaView, {\n      style: styles.container,\n      children: [_jsx(Image, {\n        style: styles.preview,\n        source: {\n          uri: \"data:image/jpg;base64,\" + photo.base64\n        }\n      }), _jsx(Button, {\n        title: \"Share\",\n        onPress: sharePic\n      }), hasMediaLibraryPermission ? _jsx(Button, {\n        title: \"Save\",\n        onPress: savePhoto\n      }) : undefined, _jsx(Button, {\n        title: \"Discard\",\n        onPress: function onPress() {\n          return setPhoto(undefined);\n        }\n      }), _jsx(Button, {\n        title: \"Send\",\n        onPress: sendPhoto\n      })]\n    });\n  }\n  return _jsxs(Camera, {\n    style: styles.container,\n    ref: cameraRef,\n    children: [_jsx(View, {\n      style: styles.buttonContainer,\n      children: _jsx(Button, {\n        title: \"Take Pic\",\n        onPress: takePic\n      })\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonContainer: {\n    alignSelf: 'flex-end',\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"names":["useRef","useState","useEffect","StyleSheet","Text","View","SafeAreaView","Button","Image","Camera","shareAsync","MediaLibrary","StatusBar","jsx","_jsx","jsxs","_jsxs","App","cameraRef","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","hasMediaLibraryPermission","setHasMediaLibraryPermission","_useState5","_useState6","photo","setPhoto","_asyncToGenerator","cameraPermission","requestCameraPermissionsAsync","mediaLibraryPermission","requestPermissionsAsync","status","undefined","children","takePic","_ref2","options","quality","base64","exif","newPhoto","current","takePictureAsync","apply","arguments","sharePic","uri","then","savePhoto","saveToLibraryAsync","sendPhoto","fetch","method","headers","Accept","body","JSON","stringify","response","json","data","console","log","message","catch","error","style","styles","container","preview","source","title","onPress","ref","buttonContainer","create","flex","alignItems","justifyContent","alignSelf","backgroundColor"],"sources":["/Users/reeceward/Desktop/React native/myproject/App.jsx"],"sourcesContent":["import { useRef, useState, useEffect} from 'react';\nimport { StyleSheet, Text, View, SafeAreaView, Button, Image } from 'react-native';\nimport { Camera } from 'expo-camera';\nimport { shareAsync } from 'expo-sharing';\nimport * as MediaLibrary from 'expo-media-library'\nimport { StatusBar } from 'expo-status-bar';\n\nexport default function App() {  \n  let cameraRef = useRef();\n  const [hasCameraPermission, setHasCameraPermission] = useState();\n  const [hasMediaLibraryPermission, setHasMediaLibraryPermission] = useState();\n  const [photo, setPhoto] = useState();\n\n  useEffect(() => {\n(async () => {\n  const cameraPermission = await Camera.requestCameraPermissionsAsync();\n  const mediaLibraryPermission = await MediaLibrary.requestPermissionsAsync();\n  setHasCameraPermission(cameraPermission.status === \"granted\");\n  setHasMediaLibraryPermission(mediaLibraryPermission.status === \"granted\");\n})();\n}, []);\n\nif (hasCameraPermission === undefined){\n  return <Text>Requesting Permissions...</Text>\n} else if (!hasCameraPermission) {\n  return <Text>Permission for camera not granted. Please change this in settings</Text>\n}\n\nlet takePic = async() => {\n  let options = {\n    quality: 1,\n    base64: true,\n    exif: false\n  };\n\n  let newPhoto = await cameraRef.current.takePictureAsync(options);\n  setPhoto(newPhoto);\n};\n\nif (photo) {\n  let sharePic = () => {\n    shareAsync(photo.uri).then(() => {\n      setPhoto(undefined);\n    })\n  };\n  let savePhoto = () => {\nMediaLibrary.saveToLibraryAsync(photo.uri).then(() => {\n  setPhoto(undefined);\n})\n  };\n  let sendPhoto = () => {\n    if (photo) {\n      fetch('http://localhost:3000/photo', {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    photo: photo.base64\n  })\n})  .then(response => response.json())\n.then(data => {\n  console.log(data.message);\n})\n.catch(error => {\n  console.error(error);\n});\n\n    }\n  };\n  \n  return(\n    <SafeAreaView style={styles.container}>\n      <Image style={styles.preview} source={{uri: \"data:image/jpg;base64,\" + photo.base64}} />\n      <Button title=\"Share\" onPress={sharePic}/>\n      {hasMediaLibraryPermission ? <Button title=\"Save\" onPress={savePhoto}/>: undefined}\n      <Button title=\"Discard\" onPress={(()=> setPhoto(undefined))}/>\n      <Button title=\"Send\" onPress={sendPhoto}/>\n    </SafeAreaView>\n  );\n}\n\nreturn(\n  <Camera style={styles.container} ref={cameraRef}>\n    <View style={styles.buttonContainer}>\n      <Button title=\"Take Pic\" onPress={takePic}/>\n    </View>\n    <StatusBar style=\"auto\"/>\n  </Camera>\n);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  buttonContainer: {\n    alignSelf: 'flex-end',\n    backgroundColor: '#fff', \n   }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}